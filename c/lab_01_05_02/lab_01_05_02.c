/*!
 * \file
 * \brief –ó–∞–¥–∞—á–∞ 5
 *
 * 2. –í—ã—á–∏—Å–ª–∏—Ç—å –∏ –≤—ã–≤–µ—Å—Ç–∏ –Ω–∞ —ç–∫—Ä–∞–Ω —á–∏—Å–ª–æ –§–∏–±–æ–Ω–∞—á—á–∏ Fibùëõ, –ø—Ä–∏–Ω—è–≤ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Ü–µ–ª–æ–µ –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ ùëõ. 
 * –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –ø–æ–ª–æ–∂–∏—Ç—å Fib0 = 0, Fib1 = 1. 
 * –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ–µ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ü–µ–ª–æ–≥–æ —á–∏—Å–ª–∞ –ø—Ä–∏ —Ä–µ—à–µ–Ω–∏–∏.
 */

#include <stdio.h>

#define LL_OVERFLOW 92                  // –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ long long –ø–æ—Å–ª–µ 92

#define EXIT_CODE_INCORRECT_INPUT 1     // –æ—à–∏–±–∫–∞ –≤–≤–æ–¥–∞
#define EXIT_CODE_NEGATIVE_N 2          // n < 0 
#define EXIT_CODE_OVERFLOW 3            // –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π fib

/*!
 * \brief –í—ã—á–∏—Å–ª—è–µ—Ç n-–Ω–æ–µ —á–∏—Å–ª–æ –§–∏–±–æ–Ω–∞—á—á–∏
 *
 * \param n –ù–æ–º–µ—Ä —á–∏—Å–ª–∞
 * \return n-–Ω–æ–µ —á–∏—Å–ª–æ –§–∏–±–æ–Ω–∞—á—á–∏
 *
 * –î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–æ–º–µ—Ä —á–ª–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –§–∏–±–æ–Ω–∞—á—á–∏,
 * –∫–æ—Ç–æ—Ä–æ–µ —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º n,
 * –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ n-–Ω–æ–≥–æ —á–ª–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏,
 * –∫–æ—Ç–æ—Ä–æ–µ —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º fib.
 */
long long fibn(int n)
{
    long long fib0 = 0, fib1 = 1, fib;
    int i = 1;

    if (n == 0)
        return fib0;

    if (n == 1)
        return fib1;

    while (i < n)
    {
        fib = fib0 + fib1;
        fib0 = fib1;
        fib1 = fib;
        i++;
    }

    return fib;
}

/*!
 * \brief –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
 *
 * –î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –Ω–æ–º–µ—Ä —á–ª–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –§–∏–±–æ–Ω–∞—á—á–∏,
 * –∫–æ—Ç–æ—Ä–æ–µ —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º n,
 * –∏ –≤—ã–≤–æ–¥–∏—Ç –Ω–∞ —ç–∫—Ä–∞–Ω –∑–Ω–∞—á–µ–Ω–∏–µ n-–Ω–æ–≥–æ —á–ª–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏,
 * –∫–æ—Ç–æ—Ä–æ–µ —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º fib.
 */
int main(void)
{
    int n;
    long long fib;
    int r;

    printf("–í–≤–µ–¥–∏—Ç–µ n: ");
    r = scanf("%d", &n);

    if (r != 1)
        return EXIT_CODE_INCORRECT_INPUT;   // incorrect input

    if (n < 0)   
        return EXIT_CODE_NEGATIVE_N;        // negative

    if (n >= LL_OVERFLOW) 
        return EXIT_CODE_OVERFLOW;          // long long overflow

    fib = fibn(n);
    printf("%lld\n", fib);

    return 0;
}
